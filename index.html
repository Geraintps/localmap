<!DOCTYPE HTML>
<html>

<!--
TO DO
* Sound, video and other file types
* Discover where other photos went
* Dynamic update - polling
* Welsh option
* Push to online map
* Prettier, animated display of points
* In popped view, place texts, and pics on screen, set bkgnd colour/img
* Tag media; invent new tags
* Adjust place position, delete place
* Expand text
* Automatic positioning of photos that have loc metadata
* Drone view - sync w drone movement
-->
<head>
    <title>Span Deep Map</title>
    <link href="lightbox2-master/dist/css/lightbox.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1"/>
    <script src="scripts/util.js"></script>
    <script src="scripts/exif-js.js"></script>
    <script src="scripts/filedb.js"></script>
    <script src="scripts/jquery-3.4.1.min.js"></script>
    <script src="scripts/online-map.js"></script>
    <script src="scripts/deep-map.js"></script>
    <script src="scripts/track.js"></script>
    <link rel="stylesheet" type="text/css" href="css/deep-map.css" />


<body onload="init()">
    <div id='theMap'>
        <h2 style="color:darkgreen;font-family: 'Times New Roman', Times, serif">&nbsp;
            <br />
            <br /> Just a moment please... </h2>
    </div>
    <div id='topLeftControls'>
        <div id="usernamediv"></div>
        <div id='pauseButton' onclick="onPauseButton()"><small><b>||</b></small></div>
        <div id='topMessage' style="visibility: hidden"></div>
    </div>
    <div id="target" class="target noselect">+</div>
    <div id="addPlaceButton" class="addButton" title="Add stuff at the target" onclick="onAddPlaceButton(this)">+</div>

    <img id="mapbutton" onclick="toggleMap()" src="img/map-icon.png" />
    
    <div id="popup" class="floatingPopup">
        <div id="popuptext" contenteditable="true"></div>
        <div id="tags"> </div>
        <div id="author"> </div>
        <div id="popclose" onclick="closePopup()">X</div>
        <div class="picturebar">
            <span id="picPrompt">Add pictures &gt;</span>
            <div id="thumbnails"></div>
            <!-- The add button displays the ugly traditional "input file" and clicks it -->
            <div class="addButton" id="addPicToPlaceButton" onclick="onClickAddFiles('uploadToPlaceButton')"
                title="Add photos, sound or videos to this note">+</div>
            <!-- But we set opacity:0 so the ugly input isn't visible, even when 'displayed' -->
            <input id="uploadToPlaceButton" style="display:none;opacity: 0;"
                onchange="doUploadFiles(this, this.files, g('popup').placePoint.place)" type="file" title="upload"
                name="uploadToPlaceButton" multiple />
        </div>
    </div>

    <div id="audiodiv" class="avbox"></div>

    <div id="loosePicsShow" class="noselect"></div>

    <div id="addFileButton" class="addButton" title="Add pics and let us place them on the map"
        onclick="onClickAddFiles('uploadButton')">++</div>
    <input id="uploadButton" style="display:none;opacity: 0;" onchange="doUploadFiles(this, this.files, null)"
        type="file" title="upload" name="uploadButton" multiple />

    <div id="petals" class="petals ">
        <div id="petaltext" class="petaltext" ></div>
    </div>


    <div id="lightboxA" class="lightboxA" onclick="hidePic()">
        <div>
            <div id="caption" contenteditable onclick="event.cancelBubble=true">Caption
            </div>
            <img id="bigpic" />
            <div id="deletePicButton" onclick='onDeletePic()'>Delete</div>
        </div>
    </div>

    <!--div style="position:fixed; top:0px; left: 0px;padding:4px;background-color:yellow" id="msg"></div -->
    <div id="splash">
        <h1>Loading ...</h1>
    </div>
    <div id="menu" class="menu"></div>
    <div id="signin" class="lightboxA">
        <div style="background-color: cornsilk; padding: 10%">
            <h1>Please sign in</h1>
            <p>Your name or name of your team:</p>
            <input type="text" onchange="signedin(this)" />
        </div>
    </div>

    <div id="testPic">
        <a href="lightbox2-master/dist/images/a-1.png" data-lightbox="roadtrip"><img src="lightbox2-master/dist/images/a-1.png" height="50px" width="100px" alt=""></a>
        <a href="lightbox2-master/dist/images/b-os-1.png" data-lightbox="roadtrip"><img src="lightbox2-master/dist/images/b-os-1.png" height="50px" width="100px" alt=""></a>
        <script src="lightbox2-master/dist/js/lightbox.js"></script> 
    </div>


</body>
</head>
</html>