<!DOCTYPE HTML>
<html>
<!--
TO DO
* Test on multiple browsers - Safari ...
* Sign-in and place ownership
* Videos and other file types
* Extend map area
* Zoom out
* Dynamic update - polling
* Welsh option
* Push to online map
* Prettier, animated display of points
* In popped view, place texts, and pics on screen, set bkgnd colour/img
* Tag media; invent new tags
* Adjust place position, delete place
* Expand text
* Automatic positioning of photos that have loc metadata
* Drone view - sync w drone movement
-->

<head>
    <title>Span Deep Map</title>
    <script src="scripts/util.js"></script>
    <script src="scripts/filedb.js"></script>
    <script src="scripts/jquery-3.4.1.min.js"></script>
    <script src="scripts/online-map.js"></script>
    <script src="scripts/history.js"></script>
    <script src="scripts/deep-map.js"></script>

    <link rel="stylesheet" type="text/css" href="css/deep-map.css" />
</head>

<body onload="init()">
    <div id='theMap'>
        <h2 style="color:darkgreen;font-family: 'Times New Roman', Times, serif">&nbsp;
            <br />
            <br /> Just a moment please... </h2>
    </div>
    <div id="usernamediv"></div>
    <!-- img style="position:fixed; top:10px; right:10px;" id="mapbutton" onclick="toggleMap()" src="img/map-icon.png" / -->
    <div id="popup">

        <div id="tags" style="height:20px;width:100%;"> </div>
        <div id="popuptext" contenteditable="true">
        </div>
        <!-- Here be pictures -->
        <!-- TO DO: display the thumbnails in a nice circle around the point -->
        <div class="picturebar">
            <div id="thumbnails"></div>
            <!-- The add button displays the ugly traditional "input file" and clicks it -->
            <button id="addPicButton" onclick="add()" style="display:inline">Add</button>
            <!-- But we set opacity:0 so the ugly input isn't visible, even when 'displayed' -->
            <input id="uploadButton" style="display:none;opacity: 0;"
                onchange="doUploadFiles(this.files, g('popup').placePoint.place)" type="file" title="upload"
                name="Upload" multiple />
            <span id="author"></span>
        </div>
    </div>
    <div id="lightbox" class="lightbox" onclick="hidePic()">
        <div>
            <img style="max-height:90%;max-width:100%;position:relative;top:0px;vertical-align: middle;" id="bigpic" />
            <div id="caption"
                style="position:relative; display:block; min-width:100px;background-color: black;color:white; padding:6px;"
                contenteditable onclick="event.cancelBubble=true">Caption
            </div>
        </div>
    </div>
    <div style="position:fixed; top:0px; left: 0px;padding:4px;" id="msg"></div>
    <div id="splash">
        <h1 style="background-color: salmon;position:absolute;top:40vh;left:40vw;">Loading ...</h1>
    </div>
    <div id="signin" class="lightbox">
        <div style="background-color: cornsilk; padding: 10%">
            <h1>Please sign in</h1>
            <p>Your name or name of your team:</p>
            <input type="text" onchange="signedin(this)" />
        </div>
    </div>
</body>

</html>