<html>
<!--meta http-equiv="refresh" content="2000;URL='/'" / -->

<body>
    Loading ..
    <script>
        let project = location.query && location.query.project;
        let target = "index.html" + (project? "?project=" + project : "");
        setTimeout(() => { location.href = target; }, 5000);

        caches.keys().then(function (cacheNames) {
            cacheNames.map(function (cacheName) {
                console.log("deleting " + cacheName);
                caches.delete(cacheName);
            });
        }).then(() => {
            navigator.serviceWorker.getRegistrations()
                .then(function (registrations) {
                    for (let registration of registrations) {
                        console.log("unregistering");
                        registration.unregister();
                    }
                })
                .then(() => { location.href = target; });
        });
    </script>
</body>

</html>